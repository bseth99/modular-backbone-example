!function(root,factory){if(typeof define==="function"&&define.amd){define(["jquery","underscore","backbone"],factory)}else{root.Component1=factory(root.$,root._,root.Backbone)}}(this,function($,_,Backbone){var requirejs,require,define;!function(undef){var defined={},waiting={},config={},defining={},aps=[].slice,main,req;function normalize(name,baseName){var baseParts=baseName&&baseName.split("/"),map=config.map,starMap=map&&map["*"]||{},nameParts,nameSegment,mapValue,foundMap,foundI,foundStarMap,starI,i,j,part;if(name&&name.charAt(0)==="."){if(baseName){baseParts=baseParts.slice(0,baseParts.length-1);name=baseParts.concat(name.split("/"));for(i=0;part=name[i];i++){if(part==="."){name.splice(i,1);i-=1}else if(part===".."){if(i===1&&(name[2]===".."||name[0]==="..")){return true}else if(i>0){name.splice(i-1,2);i-=2}}}name=name.join("/")}}if((baseParts||starMap)&&map){nameParts=name.split("/");for(i=nameParts.length;i>0;i-=1){nameSegment=nameParts.slice(0,i).join("/");if(baseParts){for(j=baseParts.length;j>0;j-=1){mapValue=map[baseParts.slice(0,j).join("/")];if(mapValue){mapValue=mapValue[nameSegment];if(mapValue){foundMap=mapValue;foundI=i;break}}}}if(foundMap){break}if(!foundStarMap&&starMap&&starMap[nameSegment]){foundStarMap=starMap[nameSegment];starI=i}}if(!foundMap&&foundStarMap){foundMap=foundStarMap;foundI=starI}if(foundMap){nameParts.splice(0,foundI,foundMap);name=nameParts.join("/")}}return name}function makeRequire(relName,forceSync){return function(){return req.apply(undef,aps.call(arguments,0).concat([relName,forceSync]))}}function makeNormalize(relName){return function(name){return normalize(name,relName)}}function makeLoad(depName){return function(value){defined[depName]=value}}function callDep(name){if(waiting.hasOwnProperty(name)){var args=waiting[name];delete waiting[name];defining[name]=true;main.apply(undef,args)}if(!defined.hasOwnProperty(name)){throw new Error("No "+name)}return defined[name]}function makeMap(name,relName){var prefix,plugin,index=name.indexOf("!");if(index!==-1){prefix=normalize(name.slice(0,index),relName);name=name.slice(index+1);plugin=callDep(prefix);if(plugin&&plugin.normalize){name=plugin.normalize(name,makeNormalize(relName))}else{name=normalize(name,relName)}}else{name=normalize(name,relName)}return{f:prefix?prefix+"!"+name:name,n:name,p:plugin}}function makeConfig(name){return function(){return config&&config.config&&config.config[name]||{}}}main=function(name,deps,callback,relName){var args=[],usingExports,cjsModule,depName,ret,map,i;relName=relName||name;if(typeof callback==="function"){deps=!deps.length&&callback.length?["require","exports","module"]:deps;for(i=0;i<deps.length;i++){map=makeMap(deps[i],relName);depName=map.f;if(depName==="require"){args[i]=makeRequire(name)}else if(depName==="exports"){args[i]=defined[name]={};usingExports=true}else if(depName==="module"){cjsModule=args[i]={id:name,uri:"",exports:defined[name],config:makeConfig(name)}}else if(defined.hasOwnProperty(depName)||waiting.hasOwnProperty(depName)){args[i]=callDep(depName)}else if(map.p){map.p.load(map.n,makeRequire(relName,true),makeLoad(depName),{});args[i]=defined[depName]}else if(!defining[depName]){throw new Error(name+" missing "+depName)}}ret=callback.apply(defined[name],args);if(name){if(cjsModule&&cjsModule.exports!==undef&&cjsModule.exports!==defined[name]){defined[name]=cjsModule.exports}else if(ret!==undef||!usingExports){defined[name]=ret}}}else if(name){defined[name]=callback}};requirejs=require=req=function(deps,callback,relName,forceSync){if(typeof deps==="string"){return callDep(makeMap(deps,callback).f)}else if(!deps.splice){config=deps;if(callback.splice){deps=callback;callback=relName;relName=null}else{deps=undef}}callback=callback||function(){};if(forceSync){main(undef,deps,callback,relName)}else{setTimeout(function(){main(undef,deps,callback,relName)},15)}return req};req.config=function(cfg){config=cfg;return req};define=function(name,deps,callback){if(!deps.splice){callback=deps;deps=[]}waiting[name]=[name,deps,callback]};define.amd={jQuery:true}}();define("../build/almond",function(){});define("namespace",["module"],function(module){return{load:function(name,req,onload,config){var localConfig=module.config();var modules=localConfig[name],path=[name];if(!modules){var err=new Error("Module configuration is missing");err.namespaceModule=name;onload.error(err);return}modules=modules.split(",");var paths=modules.map(function(module){path[1]=module;module=path.join("/");if(localConfig[module]){module="namespace!"+module}return module});req(paths,function(){var namespace={},args=arguments;modules.forEach(function(module,idx){namespace[module]=args[idx]});onload(namespace)})}}});define("tpl",{load:function(id){throw new Error("Dynamic load not allowed: "+id)}});define("tpl!views/layout/view1.html",function(){return function(obj){var __p="";var print=function(){__p+=Array.prototype.join.call(arguments,"")};with(obj||{}){__p+="<span>This is View1</span>"}return __p}});define("views/View1",["jquery","underscore","backbone","tpl!./layout/view1.html"],function($,_,Backbone,template){return Backbone.View.extend({render:function(){this.$el.html(template());return this}},{_id:"View1"})});define("models/Model1",["jquery","underscore","backbone"],function($,_,Backbone){return Backbone.Model.extend({defaults:{field1:"",field2:""}},{_id:"Model1"})});define("models/Model2",["jquery","underscore","backbone"],function($,_,Backbone){return Backbone.Model.extend({defaults:{field3:"",field4:""}},{_id:"Model2"})});define("main",["namespace!views","namespace!models"],function(views,models){return{Views:views,Models:models}});define("jquery",function(){return $});define("underscore",function(){return _});define("backbone",function(){return Backbone});define("tpl",function(){return function(){}});require.config({config:{namespace:{models:"Model1,Model2",views:"View1"}}});return require("main")});